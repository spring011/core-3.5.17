<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <script src="/packages/vue/dist/vue.global.js"></script>
  <title>vue</title>
</head>

<body>
  <div id="app">
    <my-component></my-component>
  </div>
  <script>
    const { createApp, ref, computed, onMounted } = Vue
    const app = createApp({});
    app.component(
      'MyComponent',
      {
        template: '<div><div>{{ count }} - {{ doubleData }}</div><button @click="increment">增加</button></div>',
        setup() {
          let count = ref(1);
          const doubleData = computed(() => count.value * 2);
          const increment = () => count.value++;
          onMounted(() => { console.log('mounted') });
          return { count, doubleData, increment }; //暴露给模板
        }
      }
    )
    app.mount('#app');
  </script>
</body>

</html>